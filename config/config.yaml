# 默认配置
debug: false
environment: development

# 服务配置
server:
  host: "0.0.0.0"
  port: 8000
  workers: 1
  reload: true

# 数据库配置
database:
  url: "sqlite:///data/pos.db"
  echo: false
  pool_size: 5
  max_overflow: 10

# 嵌入模型配置
embeddings:
  model: "BAAI/bge-large-zh-v1.5"
  device: "auto"  # auto, cpu, cuda
  normalize: true

# LLM配置
llm:
  provider: "openai"  # openai, anthropic, local
  model: "gpt-4"
  temperature: 0.7
  max_tokens: 2000
  timeout: 30
  retry:
    max_attempts: 3
    base_delay: 1.0

# 记忆配置
memory:
  max_short_term: 1000
  consolidation_threshold: 0.7
  auto_decay: true
  decay_rate: 0.01

# 知识图谱配置
knowledge_graph:
  max_nodes: 10000
  max_edges: 50000
  auto_prune: true
  prune_threshold: 30  # 天

# 推荐配置
recommendations:
  enabled: true
  max_daily: 10
  min_confidence: 0.6
  update_interval: 3600  # 秒

# 日志配置
logging:
  level: "INFO"
  format: "json"
  file: "logs/pos.log"
  max_size: "10MB"
  backup_count: 10

# 隐私配置
privacy:
  privacy_mode: false
  encrypt_sensitive: true
  local_only: false
  sensitive_fields:
    - "password"
    - "token"
    - "secret"
    - "credit_card"
    - "ssn"
    - "phone"
    - "email"

# 熔断器配置
circuit_breaker:
  enabled: true
  failure_threshold: 5
  recovery_timeout: 30
  half_open_max_calls: 3

# 外部服务配置
external:
  openai:
    api_key: ""  # 从环境变量读取
    base_url: "https://api.openai.com/v1"
  
  anthropic:
    api_key: ""  # 从环境变量读取
  
  huggingface:
    token: ""  # 从环境变量读取
  
  sentry:
    dsn: ""  # 从环境变量读取
    environment: "development"
    traces_sample_rate: 0.1

# 前端配置
frontend:
  url: "http://localhost:3000"
  api_path: "/api"
  ws_path: "/ws"
